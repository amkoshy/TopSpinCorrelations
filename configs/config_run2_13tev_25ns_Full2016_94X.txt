##
## Config file for steering the analysis
## For definition of variables see their description in AnalysisConfig.h
##



[ general ]

    era = run2_13tev_2016

    luminosity = 35922.0
    luminosityUncertainty = 0.025

[ end - general ]



[ corrections ]

    # Pileup Reweighting
    pileup_MC_File      = @{INPUT_FILE}
    pileup_MC_Histogram = PileupMCTemplateMaker/MC_TrueNIntBX0

    pileup_DATA_File            = pileup/pileupDATA__Cert_271036-284044_13TeV_23Sep2016ReReco_Collisions16_JSON__max120_n120__MinBias69200.root
    pileup_DATA_Histogram       = pileup
    pileup_DATA_sysUP_File      = pileup/pileupDATA__Cert_271036-284044_13TeV_23Sep2016ReReco_Collisions16_JSON__max120_n120__MinBias72383.root
    pileup_DATA_sysDN_File      = pileup/pileupDATA__Cert_271036-284044_13TeV_23Sep2016ReReco_Collisions16_JSON__max120_n120__MinBias66017.root

    # Trigger SFs
    trigger_DoubleElectron_SF_File             = trigger/TriggerSF_2016.root
    trigger_DoubleElectron_SF_Histogram        = h2D_SF_ee_lepABpt_FullError
    trigger_DoubleElectron_SF_Histogram_Format = el0_pt_vs_el1_pt

    trigger_ElectronMuon_SF_File               = trigger/TriggerSF_2016.root
    trigger_ElectronMuon_SF_Histogram          = h2D_SF_emu_lepABpt_FullError
    trigger_ElectronMuon_SF_Histogram_Format   = mu0_pt_vs_el0_pt

    trigger_DoubleMuon_SF_File                 = trigger/TriggerSF_2016.root
    trigger_DoubleMuon_SF_Histogram            = h2D_SF_mumu_lepABpt_FullError
    trigger_DoubleMuon_SF_Histogram_Format     = mu0_pt_vs_mu1_pt

    triggerSFReadoutMode = 2

    combinedSF = false
    leptonSFReadoutMode = 0

    # combined Electron SFs (old Workflow, can be left empty if combinedSF=false)
    electronSFInputFile =

    # Electron ID SFs
    SF_electron_ID_File = electron/94X_2016/SF_cutbasedID/2016LegacyReReco_ElectronTight_Fall17V2.root
    SF_electron_ID_Histo = EGamma_SF2D
    SF_electron_ID_Format = pt_vs_etaSc

    # Electron RECO SFs
    SF_electron_Reco_File = electron/94X_2016/SF_reco/EGM2D_BtoH_GT20GeV_RecoSF_Legacy2016.root
    SF_electron_Reco_Histo = EGamma_SF2D
    SF_electron_Reco_Format = pt_vs_etaSc
    SF_electron_Reco_File_LowPt = electron/94X_2016/SF_reco/EGM2D_BtoH_low_RecoSF_Legacy2016.root
    SF_electron_Reco_Histo_LowPt = EGamma_SF2D
    SF_electron_Reco_Format_LowPt = pt_vs_etaSc

    # combined Muon SFs (old Workflow, can be left empty if combinedSF=false)
    muonSFInputFile =

    # Muon ID SFs
    SF_muon_ID_File = muon/94X_2016/SF_IDnISO/RunBCDEFGH_SF_ID.root
    SF_muon_ID_Histo = NUM_TightID_DEN_genTracks_eta_pt
    SF_muon_ID_Histo_Sys = NUM_TightID_DEN_genTracks_eta_pt_syst
    SF_muon_ID_Histo_Stat = NUM_TightID_DEN_genTracks_eta_pt_stat
    SF_muon_ID_Format = pt_vs_eta

    # Muon ISO SFs
    SF_muon_ISO_File = muon/94X_2016/SF_IDnISO/RunBCDEFGH_SF_ISO.root
    SF_muon_ISO_Histo = NUM_TightRelIso_DEN_TightIDandIPCut_eta_pt
    SF_muon_ISO_Histo_Sys = NUM_TightRelIso_DEN_TightIDandIPCut_eta_pt_syst
    SF_muon_ISO_Histo_Stat = NUM_TightRelIso_DEN_TightIDandIPCut_eta_pt_stat
    SF_muon_ISO_Format = pt_vs_eta

    #Lepton Energy Corrections
    applyElectronEnergyCorrections = true
    applyMuonEnergyCorrections     = true

    #Bjet Energy Regression
    applyBJetEnergyRegression = true

    # Jet JEC/JER
    jetCorrectionMode = 4
    jerUncertaintySourceName             = JER/Fall17_25nsV1/Fall17_25nsV1_MC_SF_AK4PFchs.txt
    jet_JERHybridMethod_PtResolutionFile = JER/Fall17_25nsV1/Fall17_25nsV1_MC_PtResolution_AK4PFchs.txt
    jet_JERHybridMethod_jetConeRadius    = 0.4
    jerSFBinning = Eta

    jesUncertaintySourceFile = JEC/Summer16_07Aug2017_V11/Summer16_MC/Summer16_07Aug2017_V11_MC_UncertaintySources_AK4PFchs.txt
    jesL1CorrectionDataFile = JEC/Summer16_07Aug2017_V11/Summer16_RunBCD_DATA/Summer16_07Aug2017BCD_V11_DATA_L1FastJet_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunEF_DATA/Summer16_07Aug2017EF_V11_DATA_L1FastJet_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunGH_DATA/Summer16_07Aug2017GH_V11_DATA_L1FastJet_AK4PFchs.txt
    jesL2CorrectionDataFile = JEC/Summer16_07Aug2017_V11/Summer16_RunBCD_DATA/Summer16_07Aug2017BCD_V11_DATA_L2Relative_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunEF_DATA/Summer16_07Aug2017EF_V11_DATA_L2Relative_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunGH_DATA/Summer16_07Aug2017GH_V11_DATA_L2Relative_AK4PFchs.txt
    jesL3CorrectionDataFile = JEC/Summer16_07Aug2017_V11/Summer16_RunBCD_DATA/Summer16_07Aug2017BCD_V11_DATA_L3Absolute_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunEF_DATA/Summer16_07Aug2017EF_V11_DATA_L3Absolute_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunGH_DATA/Summer16_07Aug2017GH_V11_DATA_L3Absolute_AK4PFchs.txt
    jesL2L3CorrectionDataFile = JEC/Summer16_07Aug2017_V11/Summer16_RunBCD_DATA/Summer16_07Aug2017BCD_V11_DATA_L2L3Residual_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunEF_DATA/Summer16_07Aug2017EF_V11_DATA_L2L3Residual_AK4PFchs.txt;JEC/Summer16_07Aug2017_V11/Summer16_RunGH_DATA/Summer16_07Aug2017GH_V11_DATA_L2L3Residual_AK4PFchs.txt

    jesL1CorrectionMcFile = JEC/Summer16_07Aug2017_V11/Summer16_MC/Summer16_07Aug2017_V11_MC_L1FastJet_AK4PFchs.txt
    jesL2CorrectionMcFile = JEC/Summer16_07Aug2017_V11/Summer16_MC/Summer16_07Aug2017_V11_MC_L2Relative_AK4PFchs.txt
    jesL3CorrectionMcFile = JEC/Summer16_07Aug2017_V11/Summer16_MC/Summer16_07Aug2017_V11_MC_L3Absolute_AK4PFchs.txt

    # Jet b-tagging corrections
    # to be corrected/updated
    btagEfficiencyFilename = ttbarsignalplustau.root
    btagCorrectionMode = greaterEqualOneTagReweight
    btagHeavyFlavourFile =
    btagLightFlavourFile =
    btagSFInputFile = btagging/94X_2016/DeepCSV_2016LegacySF_V1.csv
    btagSFCorrectionViaEff = true

    # Top-Pt Reweighting
    topPtReweighting = false

[ end - corrections ]



[ objectSelection ]

    leptonEtaCut = 2.4
    leptonPtCut = 20.
    leadingLeptonPtCut = 25.
    muonIsoCut = 0.15

    jetEtaCut = 2.4
    jetPtCut = 30.
    jetPFIDWorkingPoint = 3
    jetPileupIdWorkingPoint = none
    jetPileupIdMinPt = -1.
    jetPileupIdMaxPt = 50.
    deltaRLeptonJetCut = 0.4
    lead2JetPtCut = 30.

    btagAlgorithm = DeepCSV_2016_94X
    btagWorkingPoint = L

    metAlgorithm = puppi
    metCut = 40.

    genJetEtaCut = 2.4
    genJetPtCut = 30.
    genDeltaRLeptonJetCut = 0.4

    vetoEventsWithMoreThan2Leptons = 1

[ end - objectSelection ]



[ sampleComposition ]

    pseudodata = 0
    mergeLevel = 1
    addSingleLeptonTriggerInfo = true
    pseudoTopMode = 3

[ end - sampleComposition ]



[ plotStyle ]

    cmsLabel = 0

[ end
